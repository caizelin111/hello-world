<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>无标题文档</title>

    <script th:src="@{/js/jquery-3.4.1.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/shiyan06_1.css}">

    <script th:src="@{/js/capital.js}"></script>


</head>
<body>
<div class="firstdiv">
<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">一国之都</a>
        </div>
        <div>
            <!--向左对齐-->
            <ul class="nav navbar-nav navbar-left">
                <li class="active"><a href="#">查询</a></li>
                <li ><a href="tologin" onclick=" return xuexi()">学习</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        帮助 <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#">系统说明</a></li>


                        <li class="divider"></li>
                        <li><a href="#">意见反馈</a></li>
                    </ul>
                </li>

            </ul>


            <!--向右对齐-->
            <ul class="nav navbar-nav navbar-right">
                <li id="yc1"><a href="tologin"><span class="glyphicon glyphicon-log-in"></span> 登录</a></li>
                <li id="yc2"><a href="toregist"><span class="glyphicon glyphicon-user"></span> 注册</a></li>

                <li id="yc3" style="display:none"><a href="tozuxiao" onclick=" return del()"><span class="glyphicon glyphicon-off"></span> 注销</a></li>


            </ul>

        </div>
    </div>
</nav>
</div>
<div class="seconddiv">
    <table class="font" style="margin-left: 1150px ; font-size: 20px;" >

        <tr th:each="username:${username}">
            <td id="yc"th:text="${username}"></td>
        </tr>
    </table>
</div>
<br/>
<div class="t0">
    <div class="row">
    <form role="form"  >

                <div class="form-group col-xs-4 col-sm-4 col-sm-offset-1 col-xs-offset-1" >
                    <textarea name="country"  class="form-control"   rows="6"  id="text1" placeholder="请输入国家"></textarea>
                </div>
                <div class="col-xs-1 col-sm-1">
                <button class="btn btn-info" type="button" style="margin-top:40px" onclick="a()">查询<span class="glyphicon glyphicon-search"></span></button>
                </div>
        <div class=" neirong col-xs-4 col-sm-4 ">
            <p></p>

</div>
    </form>
</div>




</div>

<script>

    function a(){
        //  去除前后空格https://www.cnblogs.com/husttan/p/4417557.html
        var country=$("#text1").val().replace(/(^\s*)|(\s*$)/g,"");
        // var aa=value.replace(/(^\s*)|(\s*$)/g,"");
        var country=$("#text1").val().replace(/\s/g,"");
        // var a = value.replace(/\s/g,"");
        $.ajax({
            url:"/user/getcapital",
            type:"POST",
            data:"country="+country,
            datatype:"html",
        success: function (data,status ){
        $(".neirong").text("");// 清空数据
        console.log(data);
        eval(data);
        // retStr="$(\".t0.row\").html(data);";
        // alert("返回结果集="+data);
        // $("div.row").html(data);
    }
    });
    }
</script>
<script>
    if( document.getElementById("yc").innerText!=null){
        document.getElementById("yc1").style.display="none";
        document.getElementById("yc2").style.display="none";
        document.getElementById("yc3").style.display="block";
    }



</script>
</body>
</html>
